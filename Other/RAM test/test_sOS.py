import gc

mem = gc.mem_free()
import time
print("mem taken by iport time: "+ str(mem-gc.mem_free()))

mem = gc.mem_free()
import micropython
print("mem taken by iport micropython: "+ str(mem-gc.mem_free()))

micropython.mem_info(1)

mem = gc.mem_free()
import framebuf
print("mem taken by iport framebuf: "+ str(mem-gc.mem_free()))

mem = gc.mem_free()
import driver
print("mem taken by iport driver: "+ str(mem-gc.mem_free()))

mem = gc.mem_free()
import tiles
print("mem taken by iport tiles: "+ str(mem-gc.mem_free()))

mem = gc.mem_free()
gc.collect()
print("mem taken by gc.collect: "+ str(mem-gc.mem_free()))

micropython.mem_info(1)

"""
Standard OS
MPY: soft reboot
mem taken by iport time: 0
mem taken by iport micropython: 16
stack: 572 out of 7936
GC: total: 192000, used: 5600, free: 186400
 No. of 1-blocks: 59, 2-blocks: 17, max blk sz: 64, max free sz: 11493
GC memory layout; from 20011200:
00000000: h=MLhhhhBDhhBTTDBBBBBDhTh===BDBDh====B=BBBBBBTB=BTB=BBBTB=TBTB=B
00000400: h===TB=h===========B=hSShh===================h========h=========
00000800: ========h=======================================================
00000c00: ========h=======================================================
00001000: ========h=h=BhSh=hh=S.SSh===h==.........h===h==........S........
00001400: ........SSh=................h========...........................
00001800: ...h=.................h=======h========h=.................h=....
00001c00: .................Sh=......................h================.....
       (179 lines all free)
0002ec00: ................................
mem taken by iport framebuf: 0
mem taken by iport driver: 26832
mem taken by iport tiles: 0
mem taken by gc.collect: -10176
stack: 572 out of 7936
GC: total: 192000, used: 22592, free: 169408
 No. of 1-blocks: 139, 2-blocks: 52, max blk sz: 445, max free sz: 5758
GC memory layout; from 20011200:
00000000: MDMLhhhhSDMhh=SDBBBB.Dh.h===.DBDh====B=BBBBBB.B=B.B=BBB.B=.B.B=B
00000400: h===.B=h===========B=...hh===================h========h=========
00000800: ========h=======================================================
00000c00: ========h=======================================================
00001000: ========h=h=BhS.......SS...h.......MDFh.h===h==...M.DShS....MDS.
00001400: .D.....hSSh=..SSDSSBh==h..BS.........h=======Sh=======h...MD..BB
00001800: h=Sh=h=h=.DBBBh==B.h==h=======h========h=h===.DB..h===T..Dh=h===
00001c00: =============hSh=Sh=h==h===B..h==h===.DB..h================.....
       (2 lines all free)
00002800: ...........DBh==h===.Dh=======h=h=h===S.........h======h==h==h==
00002c00: =.DBBBBh==h===B.Sh==h===h========h===.BB.BB.BSh=================
00003000: ==============..................................................
00003400: ................................................................
00003800: ..............................h==BB..BBBBBBh========BSSSh=h=..h=
00003c00: ==========Bh==Bh===h====S.h==.....................h=.........h=.
00004000: ...h=h=......S...................................h=======.......
00004400: .....................h===============...........................
       (2 lines all free)
00005000: ...............S...S.h=h=S.h=..Sh=Sh=S..........................
00005400: ....................................................h=.Sh=SS.h=h
00005800: =S.h=h=======hh=............S.h=h=S.h=Sh=.h=....................
00005c00: ...................h==========h=h====h===h===h=h====h==========.
00006000: .....................h===h===h================h=======h=======h=
00006400: ======h========h==..............................................
       (5 lines all free)
00007c00: .................................Sh==S..........................
       (32 lines all free)
00010000: ........................................................S.......
       (14 lines all free)
00013c00: .............................................................h==
00014000: =======..........h=.........h=..........h=====.........h===.....
       (6 lines all free)
00015c00: .......................................h=h=h=h=h==h===========..
00016000: ...................h=h==..............................h=========
00016400: ================================================================
00016800: ================================================================
00016c00: ================================================================
00017000: ================================================================
00017400: ================================================================
00017800: ================================================================
00017c00: ===================================================h============
00018000: ===========h================================================h===
00018400: ==================================..............................
       (89 lines all free)
0002ec00: ................................"""

    
